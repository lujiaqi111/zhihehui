<!DOCTYPE html><html>	<head>		<meta charset="UTF-8">		<meta http-equiv="X-UA-Compatible" content="IE=edge">		<!--<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />-->		<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">		<meta name="apple-mobile-web-app-capable" content="yes">		<meta name="apple-mobile-web-app-status-bar-style" content="black">		<meta name="format-detection" content="telephone=no">		<title>印刷通-报价</title>		<link rel="stylesheet" type="text/css" href="css/mui.min.css"/>		<link rel="stylesheet" type="text/css" href="css/rem.css"/>				<link rel="stylesheet" type="text/css" href="css/initialization1.css"/>		<style type="text/css">			body,html{				background-color: #FFFFFF;				overflow-y: scroll;    				-webkit-overflow-scrolling: touch;			}			@media screen and (min-width:300px) and (max-width:350px){				p{font-size: 12px;}				#stock p span:nth-child(1){					font-size: 20px;					font-weight: bold;				}				.color{					width: 50%;				}			}			@media screen and (min-width:350px) and (max-width:414px){				p{font-size: 14px;}				#stock p span:nth-child(1){					font-size: 14px;					font-weight: bold;				}				.color{					width: 55%;				}			}			@media screen and (min-width:414px){				p{font-size: 16px;}				#stock p span:nth-child(1){					font-size: 24px;					font-weight: bold;				}				.color{					width: 60%;				}			}			.ordernum{				display: inline-block;				float: right;				text-align: right;				padding-right: 20px;				line-height: 24px;			}			.back img{				height: 24px;				padding-right:6px ;				display: inline-block;				line-height: 24px;			}			.status{				color: #ff7206;				line-height: 30px;			}			.papercol span:nth-child(1){				/*padding: 1.0rem ;*/			}			.orderstatus button{				color: #FFFFFF;				background-color: #ff6f00;				border: 0px;				border-radius: 6px;				float: right;				margin-right: 10px;			}			#grant{				background-color: #CCCCCC;			}			#picking{				margin-right: 20px;			}			.orderdetail p.ordercol{				padding-left: 10px;				line-height: 30px;			}			.orderdetail p.ordercol{				padding-left: 0px;			}			.orderdetail p>span.detailcol{				margin-left: 6px;				color: #ff6f00;			}			.otherrequire{				float: right;				display: inline-block;				margin-right: 50px;			}			.mui-collapse{				background-color: #808080;				color: #FFFFFF;				font-size: 1.6rem;			}			.mui-navigate-right:after, .mui-push-left:after, .mui-push-right:after{				font-size: 2.0rem;				color: #FFFFFF;			}			.mui-table-view-cell.mui-active{				background-color: #ff6f00;			}			.mui-collapse .papercol{				padding: 0.5rem 0rem;			}			.mui-table-view-cell.mui-collapse .mui-collapse-content{				padding: 8px 0px;			}			.ordercol button{				border: 0px;				border-radius: 6px;				background-color: #ff6f00;				color: #FFFFFF;				margin: 10px 5px;				float: right;				padding: 5px 11px;			}			#pbfinish,#qzfinish1,#qzfinish2,#qzallFeeding,			#ysfinish1,#ysaddlogs,#ysfinish3,#ysfinish4,			#bcpfinish1,#bcpaddlogs2{				margin-right: 20px;			}			.orderdetail p.bigline{				line-height: 40px;			}			.mui-table-view-cell:after{				height: 0px;			}			.mui-table-view-cell{				margin-bottom: 6px;				padding: 8px 15px;			}			.step li{				width: 100%;				min-height: 60px;				margin-bottom: 10px;				background-color: #f2f2f2;			}			.step li div.left{				float: left;				width: 15%;				vertical-align: middle;				text-align: center;				font-size: 30px;				height: 50px;				line-height: 50px;				color: #8b8b8b;			}			.step li div.oneleft{				float: left;				width: 15%;				vertical-align: middle;				text-align: center;				font-size: 40px;				height:80px;				line-height: 80px;				color: #8b8b8b;			}			.step li div.right{				float: left;				width: 85%;				min-height: 40px;				/*clear: both;*/			}			.step li div.oneright{				float: left;				width: 60%;				height: 40px;				/*clear: both;*/			}			.step li div.oneright p{				line-height: 30px;				margin-top: 5px;			}			.step li div.right p{				line-height: 30px;			}			.step li div.right p span{				padding-right: 3px;			}			.step li div.right p:nth-child(1){				margin-top: 10px;			}			.step li div.right p font{				color: #ff6f00;			}			.step li div.right p>span:nth-child(1){				font-size: 20px;				color: #ff6f00;			}			.step li div.right p>span:nth-child(1) img{				width: 16px;				height: 16px;				display: inline-block;				margin-top: -20px;				margin-left: -5px;			}			.step li div.oneright p:nth-child(1) span img{				width: 16px;				height: 16px;				display: inline-block;				margin-top: -20px;				margin-left: -5px;			}			.step li div.right p span:nth-child(2){				font-size: 20px;				/*color: #009ddf;*/			}			.step li div.right p span:nth-child(3){				font-size: 20px;				/*color: #e30d6e;*/			}			.step li div.right p span:nth-child(4){				font-size: 20px;				/*color: #fce908;*/			}			.step li div.right p span:nth-child(5){				font-size: 20px;				/*color: #19171a;*/			}			.step li div.right p button{				border: 0px;				border-radius: 6px;				background-color: #FF6F00;				color: #FFFFFF;				display: inline-block;				float: right;				margin-right: 20px;				padding: 4px 10px;				width: 62px;				/*clear: both;*/			}			.step li .btn button{				border: 0px;				border-radius: 6px;				background-color: #FF6F00;				color: #FFFFFF;				display: inline-block;				float: right;				margin-right: 20px;				padding: 4px 10px;				margin-top: 25px;			}			.stepbtn{				width: 100%;				height: 30px;			}			.stepbtn img{				float: right;				display: inline-block;				height: 10px;				width: auto;				margin-right: 30px;			}			.chuku{				border: 0px;				border-radius: 6px;				background-color: #FF6F00;				color: #FFFFFF;				float: right;				margin-right: 20px;				padding: 6px 20px;			}			#stock .papercol:after{				height: 0px;			}			#stock .specialstep:after{				height: 1px;			}			#stock p{				width: 100%;			}			#stock p span{				display: inline-block;				height: auto;			}			#stock p span:nth-child(1){				width: 30%;			}			#stock p span:nth-child(2){				width: 33%;			}			#stock p span:nth-child(3){				width: 45%;			}						.ordercol ul li{				display: inline-block;				float: left;			}			/*.orderdetail p>span.col3{				display: inline-block;				width: 90px;			}*/			.orderdetail p>span.col4{				display: inline-block;				width: 70px;			}			.orderdetail p>span.col5{				display: inline-block;				width: 90px;			}			.orderdetail p>span{				margin-right: 15px;			}			/*.memo{				word-break:normal;			 	white-space:pre-wrap;			 	word-wrap : break-word ;			 	overflow: hidden ;			 	width: 80%;			 	min-height: 30px;				display: inline-block;				line-height: 30px;				padding-top: 6px;				} */			#ysstep .right p>span{				margin-right: 5px;			}			.hd{				width: 72px;			}			.bcp{				width: 62px;			}						#content{				/*margin-top: 54px;*/				overflow: auto;				/*margin-bottom: 30px;*/				height:100%;				overflow-Y:scroll;				-webkit-overflow-scrolling:touch;			}			.flexd{				position: fixed;				width: 100%;			}			.ordercol{				position: relative;			}			.isselfPaper{				color: #ff6f00;				display: inline-block;				text-align: right;				position: absolute;				right: 10px;			}			.memo{				display: inline-block;			    line-height: 24px;			    padding: 5px 0;			    margin-right: 10px;			    word-wrap: break-word;			    word-break: break-all;			    overflow: hidden; 			}			.tipdetail{				width: 50%;				display: inline-block;				white-space: nowrap;				overflow: hidden; 				text-overflow: ellipsis; 				float: left;				text-decoration: underline;			}			.list{				/*width: 100%;*/				min-height: 60px;				/*background-color: antiquewhite;*/				/*margin-top: 54px;*/				overflow-y: scroll;			}			.list li{				width: auto;				/*height: 35px;*/				border: 1px solid #CCCCCC;				border-radius: 5px;				background-color: #CCCCCC;				float: left;				margin-top: 10.5px;				margin-left: 5px;				color: #FFFFFF;				text-align: center;				line-height: 35px;				padding: 0px 5px;							}			.active{				background-color: #FF6F00;			}			.color{				display: inline-block;				/*width: 55%;*/				display: inline-block;    			margin-top: -10px;			}			#stock .papercol p{				padding-left: 10px;			} 			.nav,.tab{				width: 100%;				position: relative;				height: auto;				margin-top: -22px;			}			.tab div{				position: absolute;				background-color: #f1f1f1;				color: #666;				display: block;				float: left;				width: 50%;				height: 60px;				line-height: 60px;				margin-left: 0px;				text-align: left;				text-indent: 25px;								/*top: 0;*/			}			.tab div:nth-child(odd){				/*border-right: 2px solid #FF6F00;*/			}			.box:first-child .tab:first-child div{				border-top: 2px solid #666;			}			.tab div{								border-bottom: 2px solid #666;			}			.tab>div:nth-child(2){				right: 0;			}			.curr{				background-color: #FF6F00 !important;				color: #FFFFFF !important;			}			.detail{				margin-top: 40px;			}			.tab div img.btn{				height: 10px;				width: auto;				display: inline-block;				float: right;				line-height: 60px;				margin-top: 25px;				margin-right: 25px;			}			.tab div img.isOut{				width: 20px;				height: 20px;				margin-top: -16px;			}			.houdaoname{				float: left;				display: inline-block;			}			.layui-layer, .layui-layer-shade{				/*position: absolute !important;*/			}			.flexd{				position: fixed;				width: 100%;			}			#layui-layer-shade1{				position: absolute;			}			#layui-layer1{				position: absolute;			}			textarea.qcCol{				border: 0px;			    width: 90%;			    min-height: 150px;			    background-image: url(img/undeline.png);			    background-size: 80%;			    font-size: 1.4rem;			    line-height: 45px;				    background-color: #FFFFFF;				    color: #000000;		
				word-break:break-all;			}			.active{				background-color: #FF6F00;			}			.orderdetail p.orderQCcol{				padding-left: 0px;				width: 92%;				/*margin-left: 4%;*/				border-bottom: 1px solid #808080;			}			input.qcCol{				width:80%;				border: 0px;				margin-bottom: 0px;					text-align: left;			}			.orderbtn button{				padding: 5px 20px;				float: left;				margin-left: 75px;			}			.orderbtn button:nth-child(1){				margin-left: 60px;			}			.orderlist{				margin-top: 60px;				margin-bottom: 30px;			}			.qcmemo{				width: 50%;				display: inline-block;			    line-height: 24px;			    padding: 5px 0;			    margin-right: 10px;			    word-wrap: break-word;			    word-break: break-all;			    overflow: hidden;			}			textarea.qcCol{				border: 0px;			    width: 100%;			    min-height: 150px;			    background-image: url(img/undeline.png);			    background-size: 80%;			    font-size: 1.4rem;			    /*line-height: 45px;*/				    background-color: #FFFFFF;				    color: #000000;		
				word-break:break-all;			}			@media screen and (max-width:280px){			textarea.qcCol{				line-height: 22px;			}		}		@media screen and (min-width:280px) and (max-width:300px){			textarea.qcCol{				line-height: 26px;			}		}		@media screen and (min-width:300px) and (max-width:320px){			textarea.qcCol{				line-height: 30px;			}		}		@media screen and (min-width:320px) and (max-width:350px){			textarea.qcCol{				line-height: 33px;			}		}		@media screen and (min-width:350px) and (max-width:375px){			textarea.qcCol{				line-height: 37px;			}		}		@media screen and (min-width:375px) and (max-width:385px){			textarea.qcCol{				line-height: 39px;			}		}		@media screen and (min-width:385px) and (max-width:414px){			textarea.qcCol{				line-height: 42px;			}		}		@media screen and (min-width:414px){			textarea.qcCol{				line-height: 44px;			}		}						.mui-table-view-cell>a:not(.mui-btn){				padding: 12px;			}			.orderlist p{				margin-left: 15px;			}		/*ios*/			/*html,body{
				height:100%;
				overflow: hidden;
				}*/
			/*.mian{
				position: relative;
			}
			.header{
				position: absolute;
			    top: 0;
			    width: 100%;
			    z-index: 99999;
			}*/					/*Adiord*/			html,body{
				height: 100%;				overflow: hidden;				position: relative;
			}
			.header{
				position: absolute;
			    top: 0;
			    width: 100%;
			    z-index: 99999;
			}			html, body { touch-action: none; }			.mui-bar-tab{				position: absolute;				bottom: 0;				}
				/* 添加备注 */
				#caseid2 .headtitle{
					width: 100%;
					text-align: center;
					color: #808080;
					margin-top: 25%;
					position: relative;
					border: 1px solid #FFFFFF;
					
				}
				#caseid2 .headtitle p:nth-child(1){
					font-size: 2.3rem;
					line-height: 3rem;
				}
				#caseid2 .headtitle p:nth-child(2){
					font-size: 1.1rem;
					line-height: 2rem;
				}
				#caseid2 .headtitle p:nth-child(3){
					font-size: 1.1rem;
					line-height: 2rem;
				}
				#caseid2 .content button{
					width: 80%;
					height: 50px;
					border: 0px;
					background-color: #ff6600;
					color: #FFFFFF;
					border-radius: 8px;
					margin-left: 10%;
				}
				#caseid2 .content textarea{
					border: 0px;
				    width: 90%;
				    min-height: 150px;
				    margin-left: 5%;
				    margin-top: 5%;
				    background-image: url(img/underline.png);
				    background-size: 80%;
				    font-size: 20px;
					background-color: #FFFFFF;
					color: #080808;
				    /*line-height: 30px;*/
				    
				}
				@media screen and (max-width:280px){
					#caseid2 .content textarea{
						line-height: 24px;
					}
				}
				@media screen and (min-width:280px) and (max-width:300px){
					#caseid2 .content textarea{
						line-height: 25px;
					}
				}
				@media screen and (min-width:300px) and (max-width:320px){
					#caseid2 .content textarea{
						line-height: 27px;
					}
				}
				@media screen and (min-width:320px) and (max-width:350px){
					#caseid2 .content textarea{
						line-height: 28px;
					}
				}
				@media screen and (min-width:350px) and (max-width:375px){
					#caseid2 .content textarea{
						line-height: 30px;
					}
				}
				@media screen and (min-width:375px) and (max-width:385px){
					#caseid2 .content textarea{
						line-height: 31px;
					}
				}
				@media screen and (min-width:385px) and (max-width:414px){
					#caseid2 .content textarea{
						line-height: 33px;
					}
				}
				@media screen and (min-width:414px){
					#caseid2 .content textarea{
						line-height: 35px;
					}
				}
				/* 改进 */
				#caseid .headtitle{
					width: 100%;
					text-align: center;
					color: #808080;
					margin-top: 25%;
					position: relative;
					border: 1px solid #FFFFFF;
					
				}
				#caseid .headtitle p:nth-child(1){
					font-size: 2.3rem;
					line-height: 3rem;
				}
				#caseid .headtitle p:nth-child(2){
					font-size: 1.1rem;
					line-height: 2rem;
				}
				#caseid .headtitle p:nth-child(3){
					font-size: 1.1rem;
					line-height: 2rem;
				}
				#caseid .content button{
					width: 38%;
					height: 50px;
					border: 0px;
					background-color: #ff6600;
					color: #FFFFFF;
					border-radius: 8px;
					margin-left: 8%;
					float: left;
				}
				#caseid textarea{
					border: 0px;
				    width: 90%;
				    min-height: 150px;
				    margin-left: 5%;
				    margin-top: 5%;
				    background-image: url(img/underline.png);
				    background-size: 80%;
				    font-size: 20px;
					background-color: #FFFFFF;
					color: #080808;
				    /*line-height: 30px;*/
				    
				}
				@media screen and (max-width:280px){
					#caseid .content textarea{
						line-height: 24px;
					}
				}
				@media screen and (min-width:280px) and (max-width:300px){
					#caseid .content textarea{
						line-height: 25px;
					}
				}
				@media screen and (min-width:300px) and (max-width:320px){
					#caseid .content textarea{
						line-height: 27px;
					}
				}
				@media screen and (min-width:320px) and (max-width:350px){
					#caseid .content textarea{
						line-height: 28px;
					}
				}
				@media screen and (min-width:350px) and (max-width:375px){
					#caseid .content textarea{
						line-height: 30px;
					}
				}
				@media screen and (min-width:375px) and (max-width:385px){
					#caseid .content textarea{
						line-height: 31px;
					}
				}
				@media screen and (min-width:385px) and (max-width:414px){
					#caseid .content textarea{
						line-height: 33px;
					}
				}
				@media screen and (min-width:414px){
					#caseid .content textarea{
						line-height: 35px;
					}
				}
				textarea{
					word-break:break-all;
				}		</style>	</head>	<h1 class="header">			<span class="back">				<img  style="" src="img/backbtn.png"/>				工单-任务			</span>			<span class="ordernum">No.</span>	</h1>	<body class="mian">		<!--<div class="mui-scroll-wrapper" >
		<div class="mui-scroll">-->						<div class="container" id="content">			<!--<div class="papercol orderstatus">				<span>状态：<span class="status">晒版开始</span>				</span>				<button id="picking">领料记录</button>			</div>-->			<!--<div class="orderdetail">				<p class="ordercol">印件<span class="detailcol">营养蝴蝶面</span></p>				<p class="ordercol">客户<span class="detailcol">上海伊成儿童食品有限公司</span></p>				<p class="ordercol">业务<span class="detailcol">张一凡  &nbsp;&nbsp;20,000份  &nbsp;&nbsp;120*80*30mm&nbsp;&nbsp;</span></p>				<p class="ordercol">规格<span class="detailcol">125克</span></p>				<p class="ordercol">					交期<span class="detailcol">2020-8-30</span>				</p>				<p class="ordercol">备注<span class="detailcol">备注</span></p>				<ul class="list">					<li>印版A</li>					<li>印版B</li>					<li>印版C</li>				</ul>				<div class="nav">					<div class="box">						<div class="tab">						　　<div>印刷 <img src="img/stepbtn.png"/></div>						　　<div >装箱 <img src="img/stepbtn.png"/></div>						</div>						<ul class="detail">						　　<li style="display: none;">							<div class="mui-collapse-content">				            	<div class="papercol">				                	<p class="ordercol">				                		部件<span class="detailcol col3">外盒上盖</span>				                		版式<span class="detailcol col5">4开单面</span>				                											</p>									<p class="ordercol">										数量<span class="detailcol col3">2080</span>										PS版<span class="detailcol col5">24</span>									</p>									<p class="ordercol">										版别<span class="detailcol col3">5C+0</span>										专色<span class="detailcol col5">PT8230C</span>																			</p>									<p class="ordercol">										尺寸<span class="detailcol">500*300</span>									</p>													                </div>				                <div class="papercol">				                	<p class="ordercol bigline">										备注<span class="detailcol memo">											备注										</span>									</p>				                </div>				                <div class="papercol">				                	<p class="ordercol bigline">										合计用版<span class="detailcol">124</span>										<button id="pbfinish"   disabled="disabled" style="background-color: #CCCCCC;" typeNo="1" workOrderId="<%=data_list.workOrderId%>" typeNo="1">完成</button>										<button id="pbstart" class="start zb" typeNo="1" workOrderId="<%=data_list.workOrderId%>" typeNo="1">开始</button>										<button class="sbfeeding zb" id="pbfeeding" disabled="disabled" style="background-color: #CCCCCC;">补料</button>				                	</p>								</div>							</div>						</li>						　　	<li style="display: none;">							<div class="mui-collapse-content">				            	<div class="papercol">				                	<p class="ordercol">				                		部件<span class="detailcol col3">外盒上盖</span>				                		版式<span class="detailcol col5">4开单面</span>									</p>									<p class="ordercol">										用纸<span class="detailcol col3">250白卡</span>										数量<span class="detailcol col5">2,000</span>									</p>									<p class="ordercol">										白料尺寸<span class="detailcol col3">500*300</span>										白料数量<span class="detailcol col5">8,000</span>									</p>									<p class="ordercol">										门幅<span class="detailcol col3">700</span>									</p>													                </div>				                <p class="ordercol feedingtext">									已领0大张								</p>								<p class="ordercol bigline">									&nbsp;									<button id="qzfinish1" class="qzfinish" disabled="disabled" style="background-color: #CCCCCC;">完成</button>									<button class="feeding2 qz" id="qzfeeding1" workOrderId="<%=data_list.workOrderId%>" objId="<%=paperCuttingDepartment[z].id%>" paperId="<%=paperCuttingDepartment[z].paperId%>">补料</button>									<button class="qzfeeding qz" index='<%=j%>' typeNo="2" workOrderId="<%=paperCuttingDepartment[z].workOrderId%>" objId="<%=paperCuttingDepartment[z].id%>">领料</button>																		</p>							</div>							</li>						</ul>					</div>					<div class="box">						<div class="tab">						　　<div>制版 <img src="img/stepbtn.png"/></div>						　　<div >切纸 <img src="img/stepbtn.png"/></div>						</div>						<ul class="detail">						　　<li style="display: none;">商品介绍</li>												　　<li style="display: none;">会员评价的内容</li>												</ul>						</div>								</div>		</div>-->	</div>	<script id="tpl_content" type="text/html">		<%for (var i = 0, data_list = result; i < 1; i++) {%>		<div class="papercol orderstatus">			<span>状态：					<%if(data_list.status==5){%>						<span class="status">新增合同</span>					<%}else if(data_list.status==6){%>						<span class="status">工单已创建</span>					<%}else if(data_list.status==90){%>						<span class="status">运送中</span>					<%}else if(data_list.status==91){%>						<span class="status">运送完成</span>					<%}else if(data_list.status==93){%>						<span class="status">已销账</span>					<%}else if(data_list.status==11){%>						<span class="status">切纸已开始</span>					<%}else if(data_list.status==12){%>						<span class="status">切纸已完成</span>					<%}else if(data_list.status==13){%>						<span class="status">制版已开始</span>					<%}else if(data_list.status==14){%>						<span class="status">制版已完成 </span>					<%}else if(data_list.status==15){%>						<span class="status">印刷已开始</span>					<%}else if(data_list.status==16){%>						<span class="status">印刷已完成</span>					<%}else if(data_list.status==17){%>						<span class="status">覆膜已开始 </span>					<%}else if(data_list.status==18){%>						<span class="status">覆膜已完成</span>					<%}else if(data_list.status==19){%>						<span class="status">UV/丝印已开始</span>					<%}else if(data_list.status==20){%>						<span class="status">UV/丝印已完成</span>					<%}else if(data_list.status==21){%>						<span class="status">烫印已开始</span>					<%}else if(data_list.status==22){%>						<span class="status">烫印已完成</span>					<%}else if(data_list.status==23){%>						<span class="status">凹凸已开始</span>					<%}else if(data_list.status==24){%>						<span class="status">凹凸已完成</span>					<%}else if(data_list.status==25){%>						<span class="status">模切已开始</span>					<%}else if(data_list.status==26){%>						<span class="status">模切已完成</span>					<%}else if(data_list.status==27){%>						<span class="status">糊盒已开始</span>					<%}else if(data_list.status==28){%>						<span class="status">糊盒已完成</span>					<%}else if(data_list.status==29){%>						<span class="status">喷码已开始</span>					<%}else if(data_list.status==30){%>						<span class="status">喷码已完成</span>					<%}else if(data_list.status==31){%>						<span class="status">装箱已开始</span>					<%}else if(data_list.status==32){%>						<span class="status">装箱已完成</span>					<%}else if(data_list.status==33){%>						<span class="status">手工已开始</span>					<%}else if(data_list.status==34){%>						<span class="status">手工已完成</span>					<%}else if(data_list.status==35){%>						<span class="status">拆边已开始</span>					<%}else if(data_list.status==36){%>						<span class="status">拆边已完成</span>					<%}else if(data_list.status==37){%>						<span class="status">品检已开始</span>					<%}else if(data_list.status==38){%>						<span class="status">品检已完成</span>					<%}else if(data_list.status==81){%>						<span class="status">成品入库</span>					<%}else if(data_list.status==61){%>						<span class="status">切纸外协已完成</span>					<%}else if(data_list.status==62){%>						<span class="status">制版外协已完成</span>					<%}else if(data_list.status==63){%>						<span class="status">覆膜外协已完成</span>					<%}else if(data_list.status==64){%>						<span class="status">UV/丝印外协已完成</span>					<%}else if(data_list.status==65){%>						<span class="status">UV/丝印版外协已完成</span>					<%}else if(data_list.status==66){%>						<span class="status">烫印外协已完成</span>					<%}else if(data_list.status==67){%>						<span class="status">烫印版外协已完成</span>					<%}else if(data_list.status==68){%>						<span class="status">凹凸外协已完成</span>					<%}else if(data_list.status==69){%>						<span class="status">凹凸版外协已完成</span>					<%}else if(data_list.status==70){%>						<span class="status">模切外协已完成</span>					<%}else if(data_list.status==71){%>						<span class="status">模切版外协已完成</span>					<%}else if(data_list.status==72){%>						<span class="status">喷码外协已完成</span>					<%}else if(data_list.status==73){%>						<span class="status">装箱外协已完成</span>					<%}else if(data_list.status==74){%>						<span class="status">手工外协已完成</span>						<%}else if(data_list.status==75){%>						<span class="status">拆边外协已完成</span>					<%}else if(data_list.status==76){%>						<span class="status">品检外协已完成</span>					<%}else if(data_list.status==77){%>						<span class="status">整单外协已完成</span>					<%}else if(data_list.status==78){%>						<span class="status">纸箱外协已完成</span>					<%}else if(data_list.status==80){%>						<span class="status">其他外协已完成</span>					<%}else if(data_list.status==92){%>						<span class="status">配送完成,合同已完成</span>					<%}%>				</span>				<!--<button id="picking" workOrderId="<%=data_list.workOrderId%>">领料记录</button>--><!--				<button id="grant">发放记录</button>-->			</div>			<div class="orderdetail">				<p class="ordercol" style="padding-left: 8px;">印件<span class="detailcol"><%=data_list.name%></span>					<!--<span class="otherrequire" enquiryOrderId="<%=data_list.enquiryOrderId%>" style="text-decoration: underline;">完整要求</span>-->				</p>				<p class="ordercol" style="padding-left: 8px;">客户<span class="detailcol"><%=data_list.customerCompany%></span></p>				<p class="ordercol" style="padding-left: 8px;">数量<span class="detailcol"><%=data_list.num.toLocaleString()%> 份  &nbsp;&nbsp;<%=data_list.finishedSize%> &nbsp;&nbsp;</span></p>				<p class="ordercol" style="padding-left: 8px;">					交期<span class="detailcol"><%=data_list.deliveryTime%></span>				</p>				<p class="ordercol" style="padding-left: 8px;">备注<span class="detailcol"><%=data_list.memo%></span></p>								<ul class="list">					<%for (var j = 0, banbielist = result.printingDepartment.detailDtos; j < result.printingDepartment.detailDtos.length; j++) {%>						<li printingDepartmentId="<%=banbielist[j].id%>" workOrderId="<%=banbielist[j].workOrderId%>"><%=banbielist[j].name%></li>					<%}%>				</ul>				<div id="content2" class="nav" style="margin-bottom: 70px;">									</div>							</div>		<%}%>	</script>	<script id="tpl_content2" type="text/html">		<%for (var i = 0, data_list = result; i < 1; i++) {%>				<%if(data_list.isOutOrder!=1){%>					 <%for (var j = 0, detailDtos = result.printingDepartment.detailDtos; j < result.printingDepartment.detailDtos.length; j++) {%>				 <%for (var z = 0, afterTheProcesses = detailDtos[j].afterTheProcesses; z < detailDtos[j].afterTheProcesses.length; z=z+2) {%>				 					 	<div class="box">				 		<div class="tab">				 			<%for (var k = z, afterTheProcessestitle = detailDtos[j].afterTheProcesses; k < z+2; k++) {%>　				 				<%if(k>=detailDtos[j].afterTheProcesses.length){%>				 				<%}else{%>				 					<%if(afterTheProcessestitle[k].isOut == 1 || afterTheProcessestitle[k].formatType==1){%>				 						<div currentname="<%=afterTheProcessestitle[k].name%>"><%=afterTheProcessestitle[k].name%><img class="isOut" src="img/waiaxie.png"/><img class="btn" src="img/stepbtn.png"/></div>				 					<%}else{%>				 						<div currentname="<%=afterTheProcessestitle[k].name%>"><%=afterTheProcessestitle[k].name%><img class="btn" src="img/stepbtn.png"/></div>				 					<%}%>				 									 				<%}%>															<%}%>						</div>						<ul class="detail">							<%for (var k = z, afterTheProcessestitle = detailDtos[j].afterTheProcesses; k < z+2; k++) {%>　										<%if(k>=detailDtos[j].afterTheProcesses.length){%>													 				<%}else{%>								 <%if(afterTheProcessestitle[k].name=='喷码'){%>								 	<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								 		<div class="mui-collapse-content">						                 <div class="papercol">						                	<p class="ordercol">						                		<span class="detailcol"><%=detailDtos[j].name%></span>						                		版式<span class="detailcol"><%=detailDtos[j].format%></span>						                		开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>						                													</p>																						<p class="ordercol">												要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>											</p>											<p class="ordercol">												用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>											</p>											<p class="ordercol">												印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>											</p>											<p class="ordercol">												表面处理<span class="detailcol"><%=detailDtos[j].surfaceTreatment%></span>											</p>																	                </div>						                <div class="papercol">											<p class="ordercol orderQCcol">												码段：<input type="text" class="qcCol" name="codeSegment"/>											</p>											<p class="ordercol orderQCcol">												规格：<input type="text" class="qcCol" name="specification"/>											</p>											<p class="ordercol orderQCcol">												级别：<input type="text" class="qcCol" name="grade" />											</p>											<p class="ordercol orderQCcol">												外观(白线/黑线/花版/沙眼)：<input type="text" class="qcCol" name="facade" id="facade<%=afterTheProcessestitle[k].id%>" />											</p>											<p class="ordercol orderQCcol">												附着力：<input type="text" class="qcCol" name="adhesiveForce" id="adhesiveForce<%=afterTheProcessestitle[k].id%>"/>											</p>											<p class="ordercol orderQCcol">												偏位：<input type="text" class="qcCol" name="offNormal" id="offNormal<%=afterTheProcessestitle[k].id%>"/>											</p>											<p class="ordercol bigline" style="line-height: 60px;">												<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>												<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" style="margin: 18px 5px;" isOut="<%=afterTheProcessestitle[k].isOut%>" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>											</p>																	              </div>										<div class="orderbtn" style="height: 20px;">							              	<p class="ordercol">							              		<button class="qualified" type='2' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>							              		<button class="improve" type='2' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>							              		<!--<button type='2' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>">取消</button>-->							              	</p>							            </div>							            <div class="orderlist">							              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>							              		<%if(qcRecords.length>0){%>								              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">									              		<%=qcRecords[h].qcTimeStr%> 									              		<%if(qcRecords[h].status==1){%>									              			合格									              		<%}else if(qcRecords[h].status==0){%>									              			改进									              		<%}%>									              		<%=qcRecords[h].name%>									              	</p>									            <%}%>							              	<%}%>							            </div>   						                						            </div>								 	</li>								<%}else if(afterTheProcessestitle[k].name=='覆膜'){%>									<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								 		<div class="mui-collapse-content">						                <div class="papercol">						                	<p class="ordercol">												<span class="detailcol"><%=detailDtos[j].name%></span>												版式<span class="detailcol"><%=detailDtos[j].format%></span>												开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>																		                	</p>						                	<p class="ordercol">												要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>											</p>											<p class="ordercol">												用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>											</p>											<p class="ordercol">												印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>											</p>																					</div>										<div class="papercol">												<p class="ordercol orderQCcol">													电晕值：<input type="text" class="qcCol" name="coronaValue"/>												</p>												<p class="ordercol orderQCcol">													附着力：<input type="text" class="qcCol" name="adhesiveForce" id="adhesiveForce<%=afterTheProcessestitle[k].id%>"/>												</p>												<p class="ordercol orderQCcol">													起雪花：<input type="text" class="qcCol" name="theSnow"/>												</p>												<p class="ordercol orderQCcol">													高温测试：<input type="text" class="qcCol" style="width: 70%;" name="highTemperatureTest" id="highTemperatureTest<%=afterTheProcesses[z].id%>"/>												</p>												<p class="ordercol orderQCcol">													皱折：<input type="text" class="qcCol" name="buckling"/>												</p>												<p class="ordercol bigline" style="line-height: 60px;">													<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>													<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" style="margin: 18px 5px;" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>												</p>							              </div>							              <div class="orderbtn" style="height: 20px;">								              	<p class="ordercol">								              		<button  class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='3' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>								              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='3' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>								              		<!--<button type='3' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->								              	</p>								            </div>								            <div class="orderlist">								              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>								              		<%if(qcRecords.length>0){%>									              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">										              		<%=qcRecords[h].qcTimeStr%> 										              		<%if(qcRecords[h].status==1){%>										              			合格										              		<%}else if(qcRecords[h].status==0){%>										              			改进										              		<%}%>										              		<%=qcRecords[h].name%>										              	</p>										            <%}%>								              	<%}%>								            </div>    						                						            </div>								 	</li>								<%}else if(afterTheProcessestitle[k].name=='模切'){%>									<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								 		<div class="mui-collapse-content">						                <div class="papercol">						                	<p class="ordercol">												<span class="detailcol"><%=detailDtos[j].name%></span>												版式<span class="detailcol"><%=detailDtos[j].format%></span>												开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>																		                	</p>						                	<p class="ordercol">												要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>											</p>											<p class="ordercol">												用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>											</p>											<p class="ordercol">												印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>											</p>						                </div>						                <div class="papercol">											<p class="ordercol orderQCcol">												尺寸：<input type="text" class="qcCol" name="measure"/>											</p>											<p class="ordercol orderQCcol">												偏位：<input type="text" class="qcCol" name="offNormal" id="offNormal<%=afterTheProcessestitle[k].id%>"/>											</p>											<p class="ordercol orderQCcol">												爆线/爆色：<input type="text" class="qcCol" style="width: 70%;" name="seamBroken"/>											</p>											<p class="ordercol orderQCcol">												毛边：<input type="text" class="qcCol" name="deckleEdge" />											</p>											<p class="ordercol orderQCcol">												凹凸效果：<input type="text" class="qcCol" style="width: 70%;" name="effect"/>											</p>											<p class="ordercol bigline" style="line-height: 60px;">												<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>												<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" style="margin: 18px 5px;" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>											</p>						              </div>						              <div class="orderbtn" style="height: 20px;">							              	<p class="ordercol">							              		<button class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='4' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>							              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='4' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>							              		<!--<button type='4' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->							              	</p>							            </div>							            <div class="orderlist">							              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>							              		<%if(qcRecords.length>0){%>								              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">									              		<%=qcRecords[h].qcTimeStr%> 									              		<%if(qcRecords[h].status==1){%>									              			合格									              		<%}else if(qcRecords[h].status==0){%>									              			改进									              		<%}%>									              		<%=qcRecords[h].name%>									              	</p>									            <%}%>							              	<%}%>							            </div>    						                						            </div>								 	</li>								<%}else if(afterTheProcessestitle[k].name=='糊盒'){%>									<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								 		<div class="mui-collapse-content">						                <div class="papercol">					                	<p class="ordercol">											<span class="detailcol"><%=detailDtos[j].name%></span>											版式<span class="detailcol"><%=detailDtos[j].format%></span>											开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>																                	</p>					                	<p class="ordercol">											要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>										</p>										<p class="ordercol">											用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>										</p>										<p class="ordercol">											印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>										</p>					                </div>					                <div class="papercol">										<p class="ordercol orderQCcol">											溢胶：<input type="text" class="qcCol" name="excessiveGlue"/>										</p>										<p class="ordercol orderQCcol">											爆脚：<input type="text" class="qcCol" name="criticalAngle"/>										</p>										<p class="ordercol orderQCcol">											上胶距离：<input type="text" class="qcCol" style="width: 70%;" name="theGluingDistance"/>										</p>										<p class="ordercol orderQCcol">											破坏实验距离：<input type="text" class="qcCol" name="failureArea"/>										</p>										<p class="ordercol orderQCcol">											偏位：<input type="text" class="qcCol" name="offNormal" id="offNormal<%=afterTheProcessestitle[k].id%>"/>										</p>										<p class="ordercol orderQCcol">											包装方式：<input type="text" class="qcCol" style="width: 70%;" name="packMethod"/>										</p>										<p class="ordercol orderQCcol">											高低温测试：<input type="text" class="qcCol" style="width: 70%;" name="highTemperatureTest" id="highTemperatureTest<%=afterTheProcesses[z].id%>"/>										</p>										<p class="ordercol bigline" style="line-height: 60px;">											<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>											<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" style="margin: 18px 5px;" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>										</p>					              </div>					              <div class="orderbtn" style="height: 20px;">						              	<p class="ordercol">						              		<button class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='5' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>						              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='5' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>						              		<!--<button type='5' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->						              	</p>						            </div>						            <div class="orderlist" >						              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>						              		<%if(qcRecords.length>0){%>							              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">								              		<%=qcRecords[h].qcTimeStr%> 								              		<%if(qcRecords[h].status==1){%>								              			合格								              		<%}else if(qcRecords[h].status==0){%>								              			改进								              		<%}%>								              		<%=qcRecords[h].name%>								              	</p>							              	<%}%>						              	<%}%>						            </div>   						                						            </div>								 	</li>								<%}else if(afterTheProcessestitle[k].name=='品检'){%>									<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								 		<div class="mui-collapse-content">						                  <div class="papercol">						                	<p class="ordercol">												<span class="detailcol"><%=detailDtos[j].name%></span>												版式<span class="detailcol"><%=detailDtos[j].format%></span>												开料尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>											</p>											<p class="ordercol">												要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>											</p>											<p class="ordercol">												用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>											</p>											<p class="ordercol">												印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>											</p>																	                </div>						                <div class="papercol">											<p class="ordercol orderQCcol">												上机数量：<input type="text" class="qcCol" style="width: 70%;" name="numberComputer"/>											</p>											<p class="ordercol orderQCcol">												合格数量：<input type="text" class="qcCol" style="width: 70%;" name="goodCount"/>											</p>											<p class="ordercol orderQCcol">												主要问题描述：												<!--<input type="text" class="qcCol" style="width: 70%;" name="problemDescription" id="problemDescription"/>-->												<textarea type="text" class="qcCol" name="problemDescription" id="problemDescription" style="width: 100%;color:#FF6E00;"></textarea>											</p>																						<p class="ordercol bigline" style="line-height: 60px;">												<span class="qcmemo" ><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>												<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" style="margin: 18px 5px;" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>											</p>						              </div>						              <div class="orderbtn" style="height: 20px;">							              	<p class="ordercol">							              		<button class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='6' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>							              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='6' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>							              		<!--<button type='6' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->							              	</p>							            </div>							            <div class="orderlist" >							              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>							              		<%if(qcRecords.length>0){%>							              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">								              		<%=qcRecords[h].qcTimeStr%> 								              		<%if(qcRecords[h].status==1){%>								              			合格								              		<%}else if(qcRecords[h].status==0){%>								              			改进								              		<%}%>								              		<%=qcRecords[h].name%>								              	</p>								              	<%}%>							              	<%}%>							            </div>  						                						            </div>								 	</li>								<%}else if(afterTheProcessestitle[k].name=='印刷'){%>									<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">										<div class="mui-collapse-content">											<div class="papercol">					                		<p class="ordercol">					                		<span class="detailcol"><%=detailDtos[j].name%></span>					                		版式<span class="detailcol"><%=detailDtos[j].format%></span>					                		开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>					                												</p>																				<p class="ordercol">											版别<span class="detailcol"><%=detailDtos[j].chromaticDegree%></span>											专色<span class="detailcol"><%=detailDtos[j].spotColor%></span>											PS版数量<span class="detailcol"><%=detailDtos[j].psnumber%></span>																					</p>																				<p class="ordercol">											用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>										</p>										<p class="ordercol">											印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>										</p>										<p class="ordercol">											表面处理<span class="detailcol ">表面处理</span>																						</p>										</div>									<div class="papercol">										<p class="ordercol orderQCcol">											套印：<input type="text" class="qcCol" name="printingOverPrint" />										</p>										<p class="ordercol orderQCcol">											内容：<input type="text" class="qcCol" name="printContent" />										</p>										<p class="ordercol orderQCcol">											颜色：<input type="text" class="qcCol" name="color"/>										</p>										<p class="ordercol orderQCcol">											外观(墨渣、脏点、纸毛、干水)：<input type="text" class="qcCol"  name="facade" id="facade<%=afterTheProcessestitle[k].id%>"/>										</p>										<p class="ordercol orderQCcol">											拉规：<input type="text" class="qcCol" name="pull"/>										</p>										<p class="ordercol orderQCcol">											喷粉：<input type="text" class="qcCol" name="sprayThePowder"/>										</p>										<p class="ordercol orderQCcol">											掉版：<input type="text" class="qcCol" name="fallEdition"/>										</p>										<p class="ordercol orderQCcol">											光泽度(光油)：<input type="text" class="qcCol" style="width: 60%;" name="glossiness"/>										</p>										<p class="ordercol bigline" style="line-height: 60px;">											<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>											<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>" style="margin: 18px 5px;">添加备注</button>										</p>															              </div>					              <div class="orderbtn" style="height: 20px;">					              	<p class="ordercol">					              		<button class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='1' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>					              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='1' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>					              		<!--<button type='1' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->					              	</p>					              </div>					              <div class="orderlist">					              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>					              		<%if(qcRecords.length>0){%>					              		<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">						              		<%=qcRecords[h].qcTimeStr%> 						              		<%if(qcRecords[h].status==1){%>						              			合格						              		<%}else if(qcRecords[h].status==0){%>						              			改进						              		<%}%>						              		<%=qcRecords[h].name%>						              	</p>						              	<%}%>					              	<%}%>					              						              </div>				                				            </div>				           									</li>									<%}else{%>							<li style="display: none;" currentname="<%=afterTheProcessestitle[k].name%>">								<div class="mui-collapse-content">				            	<div class="papercol">				                	<p class="ordercol">										<span class="detailcol"><%=detailDtos[j].name%></span>										版式<span class="detailcol"><%=detailDtos[j].format%></span>										开纸尺寸<span class="detailcol"><%=detailDtos[j].stripWidth%></span>														                	</p>				                	<p class="ordercol">										要求<span class="detailcol"><%=afterTheProcesses[z].processRequire%></span>									</p>									<p class="ordercol">										用纸<span class="detailcol"><%=detailDtos[j].paperCuttingStandard%></span>									</p>									<p class="ordercol">										印刷数量<span class="detailcol">(<%=detailDtos[j].positiveNumber%>+<%=detailDtos[j].releaseNumber%>)X<%=detailDtos[j].platemakingNumber%></span>									</p>				                </div>				                <div class="papercol">									<p class="ordercol orderQCcol">										<textarea type="text" class="qcCol" name="explain" id="explain<%=afterTheProcessestitle[k].id%>" style="width: 100%;"></textarea>									</p>																		<p class="ordercol bigline" style="line-height: 60px;">										<span class="qcmemo"><%=afterTheProcessestitle[k].qcRecordMemo%>&nbsp;</span>										<button class="desc" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" style="margin: 18px 5px;" objId="<%=afterTheProcessestitle[k].id%>" qcRecordMemo="<%=afterTheProcessestitle[k].qcRecordMemo%>">添加备注</button>									</p>				              </div>				              <div class="orderbtn"  style="height: 20px;">					              	<p class="ordercol">					              		<button class="qualified" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='7' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">合格</button>					              		<button class="improve" classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcessestitle[k].isOut%>" type='7' workOrderId="<%=afterTheProcessestitle[k].workOrderId%>" afterTheProcessId="<%=afterTheProcessestitle[k].id%>" printingDepartmentId="<%=afterTheProcessestitle[k].printingDepartmentId%>">改进</button>					              		<!--<button type='7' classname="<%=afterTheProcessestitle[k].name%>" isOut="<%=afterTheProcesses[z].isOut%>" workOrderId="<%=afterTheProcesses[z].workOrderId%>" afterTheProcessId="<%=afterTheProcesses[z].id%>" printingDepartmentId="<%=afterTheProcesses[z].printingDepartmentId%>">取消</button>-->					              	</p>					            </div>					            <div class="orderlist">					              	<%for (var h = 0, qcRecords = afterTheProcessestitle[k].qcRecords; h < afterTheProcessestitle[k].qcRecords.length; h++) {%>					              		<%if(qcRecords.length>0){%>											<p class="ordercol" objId="<%=qcRecords[h].id%>" status="<%=qcRecords[h].status%>">						              							              		<%=qcRecords[h].qcTimeStr%> 						              		<%if(qcRecords[h].status==1){%>						              			合格						              		<%}else if(qcRecords[h].status==0){%>						              			改进						              		<%}%>						              		<%=qcRecords[h].name%>						              	</p>						              	<%}%>					              	<%}%>					            </div>				            					            </div>							</li>								<%}%>								<%}%>							<%}%>						<!--　　<li style="display: none;">商品介绍</li>						　　<li style="display: none;">会员评价的内容</li>-->													</ul>				 	</div>				 <%}%>			 <%}%>			 <%}%>			 		<%}%>	</script>	<!--</div>
	</div>-->	<!--改进-->	<div id="caseid" style="z-index: 999;width: 100%;height: 100%;position:absolute;top: 0;background-color: rgba(0,0,0,0.3);overflow: hidden;display: none;">		<div class="headers" style="width: 78%;position:absolute;top:10%;left: 11%;height: 20px;background-color: #FFFFFF;border-radius: 8px 8px 0px 0px ;z-index: 1000;padding: 5px;">			<span style="display: inline-block;line-height: 20px;font-size: 20px;color: #666666;padding-left: 10px;">改进</span><span style="display: inline-block;line-height: 20px;float: right;"><img class="closebtn" src="img/close.png" style="display: inline-block; width: 20px;height: auto;"/></span>		</div>
		<div style="width: 80%;height: 70%;position:absolute;top: 10%;left: 10%;border-radius: 8px 8px 8px 8px ;border: 1px;padding: 20px;background-color: #FFFFFF;">
			<div class="content">
				<textarea name="remarks" class="remarks" rows="" cols=""></textarea>
				<button class="backsubmit1" id="submit">确定</button>
				<button class="backsubmit01" id="cancel">取消</button>
				
			</div>
		</div>		<!-- <iframe name="ifarmes" style="width: 80%;height: 70%;position:absolute;top: 10%;left: 10%;border-radius: 8px 8px 8px 8px ;border: 1px;" src=""></iframe> -->	</div>	<!--添加备注-->	<div id="caseid2" style="z-index: 999;width: 100%;height: 100%;position:absolute;top: 0;background-color: rgba(0,0,0,0.3);overflow: hidden;display: none;">		<div class="headers" style="width: 78%;position:absolute;top:10%;left: 11%;height: 20px;background-color: #FFFFFF;border-radius: 8px 8px 0px 0px ;z-index: 1000;padding: 5px;">			<span style="display: inline-block;line-height: 20px;font-size: 20px;color: #666666;padding-left: 10px;">添加备注</span><span style="display: inline-block;line-height: 20px;float: right;"><img  class="closebtn" src="img/close.png" style="display: inline-block; width: 20px;height: auto;"/></span>		</div>
		<div style="width: 80%;height: 60%;position:absolute;top: 10%;left: 10%;border-radius: 8px 8px 8px 8px ;border: 1px;padding: 20px;background-color: #FFFFFF;">
			<div class="content">
				<textarea name="remarks" rows="" cols=""></textarea>
				<button class="backsubmit2" id="submit">提 交</button>
				
			</div>
		</div>		<!-- <iframe name="ifarmes" style="width: 80%;height: 60%;position:absolute;top: 10%;left: 10%;border-radius: 8px 8px 8px 8px ;border: 1px;" src=""></iframe> -->	</div>				</body>	<nav class="mui-bar mui-bar-tab foot-bar" >		<!--<nav class="mui-bar mui-bar-tab foot-bar" style="position: absolute;">-->			<a class="mui-tab-item orderlist" href="">				<p style="margin-left: 0px;"><img src="img/nav02.png" style="height: 30px;padding-top:5px ;"/></p>				<span class="mui-tab-label"  style="color: #FF6F00;">工单</span>			</a>
			<a class="mui-tab-item daka" href="map.html">
				<p><img src="img/daka2.png" style="height: 30px;padding-top:5px ;"/></p>
				<span class="mui-tab-label" >打卡</span>
			</a>			<a class="mui-tab-item scan" href="">				<p><img src="img/scan1.png" style="height: 30px;padding-top:5px ;"/></p>				<span class="mui-tab-label">扫描</span>			</a>			<a class="mui-tab-item myself" href="">				<p><img src="img/nav3.png" style="height: 30px;padding-top:5px ;"/></p>				<span class="mui-tab-label" >我的</span>			</a>	</nav>	<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>	<script src="js/mui.js" type="text/javascript" charset="utf-8"></script>	<script type="text/javascript" src="js/template-native.min.js"></script>	<!--<script type="text/javascript" src="js/immersed.js"></script>-->	<script type="text/javascript" src="js/pages/share.js"></script>	<script type="text/javascript" src="js/layer3.0.1/layer.js"></script>
	<script type="text/javascript"  src="js/pages/backgroundLine.js"></script>	<script type="text/javascript">//		(function($){
//			$(".mui-scroll-wrapper").scroll({
//				bounce: false,//滚动条是否有弹力默认是true
//				indicators: true, //是否显示滚动条,默认是true
//				deceleration: 0.0005
//			});
//		})(mui);
//		//								window.ontouchmove=function(e){	        e.preventDefault && e.preventDefault();	        e.returnValue=true;	        e.stopPropagation && e.stopPropagation();	        return true;		}		function getUrlParam(name) {			    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象			    var r = window.location.search.substr(1).match(reg);  //匹配目标参数			    if (r != null) return decodeURI(r[2]); return null; //返回参数值		}		var qctype = getUrlParam('type');		var u = navigator.userAgent, app = navigator.appVersion;		var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g		var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端//ios终端		if(localStorage.getItem('authorityType')==22){			$('.back').on('tap',function(){				// window.location = 'instockorderlist.html';
				mui.back()			})			$('.orderlist').on('tap',function(){				window.location = 'instockorderlist.html';			})
			$('.daka').on('tap',function(){
				window.location = 'map.html';
					})		}else if(localStorage.getItem('authorityType')==6){			$('.back').on('tap',function(){			// window.location = 'stockorderlist.html';
			mui.back()			})			$('.orderlist').on('tap',function(){				window.location = 'stockorderlist.html';			})
			$('.daka').on('tap',function(){
				window.location = 'map.html';
					})		}else{
			$('.daka').on('tap',function(){
				window.location = 'map.html';
					})			$('.back').on('tap',function(){				if(qctype=="qc"){					// window.location = 'orderlist.html?type=qc';
					mui.back()				}else{					window.location = 'orderlist.html';				}							})			$('.orderlist').on('tap',function(){				if(qctype=="qc"){					// window.location = 'orderlist.html?type=qc';
					mui.back()				}else{					window.location = 'orderlist.html';				}//				window.location = 'orderlist.html';			})		}				$('.scan').on('tap',function(){			if(qctype=="qc"){					window.location = 'scan.html?type=qc';				}else{					window.location = 'scan.html';				}//			window.location = 'scan.html';		})		$('.myself').on('tap',function(){			if(qctype=="qc"){					window.location = 'myselfinfo.html?type=qc';				}else{					window.location = 'myselfinfo.html';				}//			window.location = 'myselfinfo.html';		})				window.addEventListener('resize',function(){			var activeElement = document.activeElement;			if(activeElement.tagName=='INPUT' || activeElement.tagName == 'TEXTAREA'){				setTimeout(function(){					activeElement.scrollIntoViewIfNeeded();				},200)			}		})	    var u = navigator.userAgent;		var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端		var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端		var pos = '';		        function aa() {             //页面指定了DTD，即指定了DOCTYPE时，使用document.documentElement。             //页面没有DTD，即没指定DOCTYPE时，使用document.body。                          pos = $('#content').scrollTop();                          localStorage.setItem('pos',pos);         }         function checkMe() { 　　　　　　//给scrollTop赋值 				if(localStorage.getItem('pos')!=null){ 					$('#content').stop().animate({scrollTop: localStorage.getItem('pos')+'px'},200); 				}else{ 					$('#content').stop().animate({scrollTop: '0px'},200); 					 				}                          }        var u = navigator.userAgent, app = navigator.appVersion;		var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g		var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端//ios终端         //       checkMe();
		$('.closebtn').on('click',function(e){
		//									e.stopPropagation()
		//									e.preventDefault()
											$('#caseid').hide();
											$('#caseid2').hide();
											location.reload();
											document.activeElement.blur();
		//									console.log($(window.frames["ifarmes"].document).find('textarea'));
		//									$(window.frames["ifarmes"].document).find('textarea').blur();
											
										})          // mui.plusReady(function() {		// window.onload = function(){
			// var self = plus.webview.currentWebview();
			// // var result = self.workOrderId;
			// qctype = self.type;			var activeAry = [];			var result = getUrlParam('result');			var workOrderId = '';			var workOrderNo = '';			var printingDepartmentId = 0;			var isOutOrder = 0;			if(!isNaN(result)){				workOrderId = result;			}else{				workOrderNo = result;			}			$.ajax({				type:"post",				dataType:'json',				url:ajaxUrlPath+"/mobile/workOrder/workOrderDetail",				data:{					workOrderId:workOrderId,					workOrderNo:workOrderNo,					printingDepartmentId:printingDepartmentId				},				success:function(data){					console.log(JSON.stringify(data));					if(data.code == 0){						var worderOrderNum = data.result.num;						localStorage.setItem('worderOrderNum',worderOrderNum);						localStorage.setItem('worderOrdername',data.result.name);						localStorage.setItem('deliveryTime',data.result.deliveryTime);						localStorage.setItem('workOrderNo',data.result.workOrderNo);						isOutOrder = data.result.isOutOrder;						$('.ordernum').html('No.'+data.result.workOrderNo);						var html = template('tpl_content', data);						console.log(html);						$('#content').html(html);												$('.list li').on('tap',function(){							activeAry = [];							var indexs = $(this).index();							//							localStorage.setItem('indexs',indexs);							$(this).addClass('active');							$(this).siblings().removeClass('active');							var workorderid = $(this).attr('workorderid');							var printingdepartmentid = $(this).attr('printingdepartmentid');							$.ajax({							type:"post",							dataType:'json',							url:ajaxUrlPath+"/mobile/workOrder/workOrderDetail",							data:{								workOrderId:workorderid,								printingDepartmentId:printingdepartmentid							},							success:function(data){								console.log(data);								if(data.code == 0){									for (var i = 0; i < data.result.printingDepartment.detailDtos[0].afterTheProcesses.length; i++) {										activeAry.push(data.result.printingDepartment.detailDtos[0].afterTheProcesses[i].name);									}									console.log(activeAry);																		var html2 = template('tpl_content2', data);									$('#content2').html(html2);									if(localStorage.getItem('indexs') !=indexs){										localStorage.setItem('indexs',indexs);										localStorage.removeItem('Indexs');										localStorage.removeItem('index');																			}else{										checkMe();									}																											$('textarea').each(function () {									  this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;color:#ff6f00');									}).on('input', function () {									  this.style.height = 'auto';									  this.style.height = (this.scrollHeight) + 'px';									});//									alert(localStorage.getItem('authorityType'));									if(localStorage.getItem('authorityType')=='23'){										for (var i = 0; i < $('#content2 button').length; i++) {			//								alert($('#content2 button').eq(i).attr('classname'))											if($('#content2 button').eq(i).attr('classname')=='印刷' || $('#content2 button').eq(i).attr('classname')=='制版' || $('#content2 button').eq(i).attr('classname')=='切纸' || $('#content2 button').eq(i).attr('classname')=='喷码'){												console.log(111);											}else{												$('#content2 button').eq(i).attr('disabled','disabled');												$('#content2 button').eq(i).css("background-color","#CCCCCC");											}										}																						}else if(localStorage.getItem('authorityType')=='24'){										for (var i = 0; i < $('#content2 button').length; i++) {			//								alert($('#content2 button').eq(i).attr('classname'))											if($('#content2 button').eq(i).attr('isOut')=='1'){												$('#content2 button').eq(i).attr('disabled','disabled');												$('#content2 button').eq(i).css("background-color","#CCCCCC");											}										}									}else if(localStorage.getItem('authorityType')=='25'){//										alert($('#content2 button').length);										for (var i = 0; i < $('#content2 button').length; i++) {//											alert($('#content2 button').eq(i).attr('isOut'))											if($('#content2 button').eq(i).attr('isOut')=='1'){												}else{												$('#content2 button').eq(i).attr('disabled','disabled');												$('#content2 button').eq(i).css("background-color","#CCCCCC");											}										}									}									$('.closebtn').on('click',function(e){//									e.stopPropagation()//									e.preventDefault()									$('#caseid').hide();									$('#caseid2').hide();									location.reload();									document.activeElement.blur();//									console.log($(window.frames["ifarmes"].document).find('textarea'));
//									$(window.frames["ifarmes"].document).find('textarea').blur();																	})									$('.orderlist p').on('tap',function(){										aa()										$(this).addClass('active');										$(this).siblings().removeClass('active');										var id = $(this).attr('objId');										var status = $(this).attr('status');										$.ajax({														type:"post",														dataType:'json',														url:ajaxUrlPath+"/mobile/workOrder/getQCRecord",														data:{id:id},														success:function(data){															console.log(data);															if(data.code == 0){																if(status==1){																	var workOrderId = data.result.workOrderId;																	var printingDepartmentId = data.result.printingDepartmentId;																	var afterTheProcessId = data.result.afterTheProcessId;																	var userId = localStorage.getItem('memberId');																	var type = data.result.type;																	$('input[name="printingOverPrint"]').val(data.result.printingOverPrint);																	$('input[name="printContent"]').val(data.result.printContent);																	$('input[name="color"]').val(data.result.color);																	$('#facade'+afterTheProcessId).val(data.result.facade);																	$('input[name="pull"]').val(data.result.pull);																	$('input[name="sprayThePowder"]').val(data.result.sprayThePowder);																	$('input[name="fallEdition"]').val(data.result.fallEdition);																	$('input[name="glossiness"]').val(data.result.glossiness);																	$('input[name="codeSegment"]').val(data.result.codeSegment);																	$('input[name="specification"]').val(data.result.specification);																	$('input[name="grade"]').val(data.result.grade);																	$('#adhesiveForce'+afterTheProcessId).val(data.result.adhesiveForce);																	$('#offNormal'+afterTheProcessId).val(data.result.offNormal);																	$('input[name="coronaValue"]').val(data.result.coronaValue);																	$('input[name="theSnow"]').val(data.result.theSnow);																	$('#highTemperatureTest'+afterTheProcessId).val(data.result.highTemperatureTest);																	$('input[name="buckling"]').val(data.result.buckling);																	$('input[name="measure"]').val(data.result.measure);																	$('input[name="seamBroken"]').val(data.result.seamBroken);																	$('input[name="deckleEdge"]').val(data.result.deckleEdge);																	$('input[name="effect"]').val(data.result.effect);																	$('input[name="excessiveGlue"]').val(data.result.excessiveGlue);																	$('input[name="criticalAngle"]').val(data.result.criticalAngle);																	$('input[name="theGluingDistance"]').val(data.result.theGluingDistance);																	$('input[name="failureArea"]').val(data.result.failureArea);																	$('input[name="packMethod"]').val(data.result.packMethod);																	$('input[name="numberComputer"]').val(data.result.numberComputer);																	$('input[name="goodCount"]').val(data.result.goodCount);																	$('textarea[name="problemDescription"]').val(data.result.problemDescription);																	$('#explain'+afterTheProcessId).val(data.result.explain);																}else{																	$('html').css('height',"100%");																	$('html').css('overflow','hidden');																	$('body').css('height',"100%");																	$('body').css('overflow','hidden');																	
																	
																	if(isIOS){
																		$('#caseid').show();
																		
																					$('textarea').each(function () {
																					  this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;');
																					}).on('input', function () {
																					  this.style.height = 'auto';
																					  this.style.height = (this.scrollHeight) + 'px';
																					});
																		$('#caseid').find('.remarks').val(data.result.improvementMemo);
																		$('.backsubmit1').hide()
																		$('.backsubmit01').hide()
																					
																	}else{																	layer.open({																	  type: 2,																	  skin: 'demo-class',																	  area: ['80%', '65%'], //宽高														//			  scrollbar: false,																	  title:"改进",																	  content: 'improve-QCremark.html?workOrderId='+workOrderId+'&printingDepartmentId='+printingDepartmentId+'&afterTheProcessId='+afterTheProcessId+'&type='+type,																	  scrollbar: false,																	  closeBtn: 2,																	  shadeClose:false,																	  success: function(layero,index){						//											  	localStorage.setItem('type',type);																	  	$(layero).addClass("scroll-wrapper");																	  	var body = layer.getChildFrame('body', index);																	  	console.log(body.find('.remarks'))																	  	body.find('.remarks').val(data.result.improvementMemo);																	  	body.find('button').css('display','none');																	  	body.find('textarea').each(function () {																		  this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;');																		}).on('input', function () {																		  this.style.height = 'auto';																		  this.style.height = (this.scrollHeight) + 'px';																		});																	  },																	  end:function(){																	  	checkMe()																	  	$('html').css('height',"auto");																		$('html').css('overflow','auto');																		$('body').css('height',"auto");																		$('body').css('overflow','auto');//																	  	location.reload();																	  																																				  }																	});
																	}																}																															}														}										})																																	})									$('.qualified').on('tap',function(){																					aa();											$('html').css('height',"100%");
											$('html').css('overflow','hidden');
											$('body').css('height',"100%");
											$('body').css('overflow','hidden');											var _this = this;											var workOrderId = $(this).attr('workOrderId');											var printingDepartmentId = $(this).attr('printingDepartmentId');											var afterTheProcessId = $(this).attr('afterTheProcessId');											var userId = localStorage.getItem('memberId');											var type = $(this).attr('type');											var status = 1;											var printingOverPrint = $('input[name="printingOverPrint"]').val();											var printContent = $('input[name="printContent"]').val();											var color = $('input[name="color"]').val();											var facade = $('#facade'+afterTheProcessId).val();											var pull = $('input[name="pull"]').val();											var sprayThePowder = $('input[name="sprayThePowder"]').val();											var fallEdition = $('input[name="fallEdition"]').val();											var glossiness = $('input[name="glossiness"]').val();											var codeSegment = $('input[name="codeSegment"]').val();											var specification = $('input[name="specification"]').val();											var grade = $('input[name="grade"]').val();											var adhesiveForce = $('#adhesiveForce'+afterTheProcessId).val();											var offNormal = $('#offNormal'+afterTheProcessId).val();											var coronaValue = $('input[name="coronaValue"]').val();											var theSnow = $('input[name="theSnow"]').val();											var highTemperatureTest = $('#highTemperatureTest'+afterTheProcessId).val();											var buckling = $('input[name="buckling"]').val();											var measure = $('input[name="measure"]').val();											var seamBroken = $('input[name="seamBroken"]').val();											var deckleEdge = $('input[name="deckleEdge"]').val();											var effect = $('input[name="effect"]').val();											var excessiveGlue = $('input[name="excessiveGlue"]').val();											var criticalAngle = $('input[name="criticalAngle"]').val();											var theGluingDistance = $('input[name="theGluingDistance"]').val();											var failureArea = $('input[name="failureArea"]').val();											var packMethod = $('input[name="packMethod"]').val();											var numberComputer = $('input[name="numberComputer"]').val();											var goodCount = $('input[name="goodCount"]').val();											var problemDescription = $('textarea[name="problemDescription"]').val();											var explain = $('#explain'+afterTheProcessId).val();										layer.confirm('<img src="img/tip.png" style="width:40px;height:auto;padding-right:10px">确定提交数据?', { title:'提示'}, function(index){										if(index>=1){											$.ajax({														type:"post",														dataType:'json',														url:ajaxUrlPath+"/mobile/workOrder/saveQCRecord",														data:{															workOrderId:workOrderId,															printingDepartmentId:printingDepartmentId,															afterTheProcessId:afterTheProcessId,															userId:userId,															type:type,															status:status,															printingOverPrint:printingOverPrint,															printContent:printContent,															color:color,															facade:facade,															pull:pull,															sprayThePowder:sprayThePowder,															fallEdition:fallEdition,															glossiness	:glossiness	,															codeSegment:codeSegment,															specification:specification,															grade:grade,															adhesiveForce:adhesiveForce,															offNormal:offNormal,															coronaValue:coronaValue,															theSnow:theSnow,															highTemperatureTest:highTemperatureTest,															buckling:buckling,															measure:measure,															seamBroken:seamBroken,															deckleEdge:deckleEdge,															effect:effect,															excessiveGlue:excessiveGlue,															criticalAngle:criticalAngle,															theGluingDistance:theGluingDistance,															failureArea:failureArea,															packMethod:packMethod,															numberComputer:numberComputer,															goodCount:goodCount,															problemDescription:problemDescription,															explain:explain														},														success:function(data){															if(data.code == 0){																mui.toast('记录添加成功');//																var date=new Date();  
//													            var hh=date.getHours();            
//													            var mm=date.getMinutes();           
//													            var ss=date.getSeconds();                   
//													            var yy=date.getFullYear();          
//													            var MM=date.getMonth()+1;  //因为1月这个方法返回为0，所以加1          
//													            var dd=date.getDate();  
//													            var time = yy+'-'+MM+'-'+dd+' '+hh+':'+mm;
//													            var orderliststr = '<p class="ordercol" >'+time+' 合格</p>';
//													            console.log($(_this).parent().parent().next());
//													            $(_this).parent().parent().next().append(orderliststr);																location.reload();																$('html').css('height',"auto");
																$('html').css('overflow','auto');
																$('body').css('height',"auto");
																$('body').css('overflow','auto');																$('.orderlist p').on('tap',function(){																	console.log($(this).index());																	console.log(localStorage.getItem('type'));//																	init();																	$('.orderlist').eq(localStorage.getItem('type')).find('p').eq($(this).index()).trigger('tap');																																	})																															}														}																										})										}										layer.close(index);										},function(){											checkMe();										})																													})									$('.improve').on('tap',function(){										var _this = this										aa();										var workOrderId = $(this).attr('workOrderId');										var printingDepartmentId = $(this).attr('printingDepartmentId');										var afterTheProcessId = $(this).attr('afterTheProcessId');										var userId = localStorage.getItem('memberId');										var type = $(this).attr('type');										var status = 0;										$('html').css('height',"100%");										$('html').css('overflow','hidden');										$('body').css('height',"100%");										$('body').css('overflow','hidden');										if(isIOS){											$('#caseid').show();											$('#caseid').attr('workOrderId',workOrderId);											$('#caseid').attr('printingDepartmentId',printingDepartmentId);											$('#caseid').attr('afterTheProcessId',afterTheProcessId);											$('#caseid').attr('type',type);											$("#caseid iframe").attr('src','improve-QCremark2.html');											var workOrderId = $('#caseid').attr('workOrderId');
														var printingDepartmentId = $('#caseid').attr('printingDepartmentId');
														var afterTheProcessId = $('#caseid').attr('afterTheProcessId');
														var type = 0;
														var userId = localStorage.getItem('memberId');
														var status = 0;
														$('textarea').each(function () {
														  this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;');
														}).on('input', function () {
														  this.style.height = 'auto';
														  this.style.height = (this.scrollHeight) + 'px';
														});
											
														$('#submit').on('tap',function(){
											//				var divIndex = $(this).attr('sign');
															var improvementMemo = $('#caseid textarea[name="remarks"]').val();
											//				memo = memo.substring(titlememo.length-1,memo.length);
											//				if(execution=="全部完成"){
											//					otherStatus = 2;
											//				}else if(execution == '部分完成'){
											//					otherStatus = 1;
											//				}else{
											//					otherStatus = 1;
											//				}
															$.ajax({
																type:"post",
																dataType:'json',
																url:ajaxUrlPath+"/mobile/workOrder/saveQCRecord",
																data:{
																	workOrderId:workOrderId,
																	printingDepartmentId:printingDepartmentId,
																	afterTheProcessId:afterTheProcessId,
																	type:type,
																	userId:userId,
																	status:status,
																	improvementMemo:improvementMemo,
																},
																success:function(data){
																	console.log(JSON.stringify(data));
																	if(data.code==0){
																		location.reload();
											//							location.reload();
											//							parent.$('.memo').eq(divIndex).html(memo);
											//							parent.layer.close(index);
																	}
											//						
																}
															})
															
															
															
															
														})
														$('#cancel').on('tap',function(){
															location.reload();
														})
										}else{											layer.open({											  type: 2,											  skin: 'demo-class',											  area: ['80%', '65%'], //宽高								//			  scrollbar: false,											  title:"改进",											  content: 'improve-QCremark.html?workOrderId='+workOrderId+'&printingDepartmentId='+printingDepartmentId+'&afterTheProcessId='+afterTheProcessId+'&type='+type,											  scrollbar: false,											  closeBtn: 2,											  shadeClose:false,											  success: function(layero,index){//											  	localStorage.setItem('type',type);											  	$(layero).addClass("scroll-wrapper");											  	var body = layer.getChildFrame('body', index);											  	//											  	body.find('#submit').attr('sign',divIndex);											  },											  end:function(){											  	checkMe();//											  	mui.toast('记录添加成功');//												var date=new Date();  
//												var hh=date.getHours();            
//												var mm=date.getMinutes();           
//												var ss=date.getSeconds();                   
//												var yy=date.getFullYear();          
//												var MM=date.getMonth()+1;  //因为1月这个方法返回为0，所以加1          
//												var dd=date.getDate();  
//												var time = yy+'-'+MM+'-'+dd+' '+hh+':'+mm;
//												var orderliststr = '<p class="ordercol" >'+time+' 改进</p>';
//												console.log($(_this).parent().parent().next());
//												$(_this).parent().parent().next().append(orderliststr);//											  	location.reload();											 //  	$('html').css('height',"auto");												// $('html').css('overflow','auto');												// $('body').css('height',"auto");												// $('body').css('overflow','auto');																							  }											});										}																			})									//添加备注						$('.desc').on('tap',function(){							aa();							var objId=$(this).attr('objId');							var qcRecordMemo=$(this).attr('qcRecordMemo');							if(objId == null){								objId = '';							}else{								objId = objId;							}							$('html').css('height',"100%");							$('html').css('overflow','hidden');							$('body').css('height',"100%");							$('body').css('overflow','hidden');							if(isIOS){//								$('#caseid2').show();								// $("#caseid2 iframe").attr('src','add-QCremark2.html');								$('#caseid2').attr('objId',objId);								$('#caseid2').attr('qcRecordMemo',qcRecordMemo);								setTimeout(function(){									$('#caseid2').show();								},200)
								var objId = $('#caseid2').attr('objId');
											var qcRecordMemo = $('#caseid2').attr('qcRecordMemo');
											$('textarea[name="remarks"]').backgroundLine();
											$('#caseid2 textarea[name="remarks"]').val(qcRecordMemo);
											$('textarea').each(function () {
											  this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;');
											}).on('input', function () {
											  this.style.height = 'auto';
											  this.style.height = (this.scrollHeight) + 'px';
											});
								
											$('#caseid2 #submit').on('tap',function(){
												var memo = $('#caseid2 textarea[name="remarks"]').val();

												$.ajax({
													type:"post",
													dataType:'json',
													url:ajaxUrlPath+"/mobile/workOrder/addQCRecordMemo",
													data:{
														objId:objId,
														qcRecordMemo:memo
													},
													success:function(data){
														console.log(JSON.stringify(data));
														if(data.code==0){
															location.reload();
								
														}
								//						
													}
												})
												
												
												
												
											})							}else{								layer.open({											  type: 2,											  skin: 'demo-class',											  area: ['80%', '65%'], //宽高								//			  scrollbar: false,											  title:"添加备注",											  content: 'add-QCremark.html?objId='+objId+'&qcRecordMemo='+qcRecordMemo,											  scrollbar: false,											  closeBtn: 2,											  shadeClose:false,											  success: function(layero,index){//											  	localStorage.setItem('type',type);											  	$(layero).addClass("scroll-wrapper");											  	var body = layer.getChildFrame('body', index);//											  	body.find('#submit').attr('sign',divIndex);											  },											  end:function(){//											  	location.reload();												checkMe();											  	$('html').css('height',"auto");												$('html').css('overflow','auto');												$('body').css('height',"auto");												$('body').css('overflow','auto');																							  }											});							}													})									var boxlength = $('#content2 .box').length;									if(boxlength == 1){										$('#content2 .tab').css('margin-top','20px')									}									if(localStorage.getItem('Indexs')!=null){																				var Indexs = localStorage.getItem('Indexs');										var index = localStorage.getItem('index');										$('.nav li').hide();										$('#ysstep li').show();										$('.box:eq('+Indexs+') li:eq(' + index + ')').show();										$('.tab:eq('+Indexs+') div:eq(' + index + ') img.btn').attr('src','img/stepbtn1.png')//										$('.tab:eq('+Indexs+') div:eq(' + index + ')').css('color','#FFFFFF')										$('.box:eq('+Indexs+') div.tab>div:eq(' + index + ')').addClass('curr')									}else{										document.body.scrollTop = 0;									}																		//									clickdeplane();tabclick();function tabclick(){	$(".tab>div").unbind('click');									$(".tab>div").click(function() {										if($(this).hasClass('curr')){											$(".tab>div").removeClass('curr'); //点击那个a标签，给他添加类型，同时给他的兄弟移除类名（排他思想）												$(".tab img.btn").attr('src','img/stepbtn.png');											$('.nav li').hide(); 									  }else{									    	$(".tab>div").removeClass('curr'); //点击那个a标签，给他添加类型，同时给他的兄弟移除类名（排他思想）									    	$(this).addClass('curr');//									    	$(this).css('color','#FFFFFF')									    	$(".tab img.btn").attr('src','img/stepbtn.png')											$(this).find('img.btn').attr('src','img/stepbtn1.png')											var index = $(this).index();  //获取你点击a标签的索引，为了下面的小li跟着变化											var Indexs = $(this).parent().parent().index()										　　	$('.nav li').hide();  // 让每一个小li先进行隐藏  										　　	$('#ysstep li').show();//											alert(Indexs+'  '+index)											console.log($('.box:eq('+Indexs+') ul.detail>li:eq(' + index + ')').html())											$('.box:eq('+Indexs+') ul.detail>li:eq(' + index + ')').show();  //让小的的eq表示第几个元素进行显示，HTML中默认让第一个小li进行显示（dispaly：block）									    	localStorage.setItem('Indexs',Indexs);									    	localStorage.setItem('index',index);//									    	if($(this).hasClass('ruku')){//									    		$(".mui-scroll-wrapper").animate({scrollTop: 9999}, 200);//									    	}											var scrolltop =185+(Indexs+1)*30;											$('#content').animate({scrollTop:scrolltop},200);																				    }																																							});}																																																																																			}							}							})//										})					if(localStorage.getItem('indexs')!=null){						var indexs = localStorage.getItem('indexs');						$('.list li').eq(indexs).trigger('tap');					}else{												$('.list li').eq(0).trigger('tap');					}															}								}			})				// }		// )	</script></html>